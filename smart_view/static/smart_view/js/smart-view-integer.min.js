Tabulator.extendModule("format","formatters",{integer_ext_coalesce:function(cell,formatterParams,onRendered){var intVal,number,integer,decimal,rgx;var add_default_class=false;var cell_value=cell.getValue();intVal=null;for(var i=0;i<cell_value.length;i++){if(cell_value[i]!==null){intVal=cell_value[i];break}add_default_class=true}if(intVal===null){return""}if(isNaN(intVal)){return this.emptyToSpace(this.sanitizeHTML(cell.getValue()))}var value=intVal;if(add_default_class){return'<span class="default-value">'+value+"</span>"}else{return value}},integer_conditional:function(cell,formatterParams,onRendered){var intVal,number,integer,decimal,rgx;var add_default_class=false;var cell_value=cell.getValue();intVal=null;for(var i=0;i<cell_value["fields"].length;i++){if(cell_value["fields"][i]!==null){intVal=cell_value["fields"][i];break}add_default_class=true}if(intVal===null){return""}if(isNaN(intVal)){return this.emptyToSpace(this.sanitizeHTML(cell.getValue()))}var value=intVal;if(add_default_class){if(cell_value["flag"]){cell.getElement().classList.add("default-value");return value}else{return""}}else{if(cell_value["flag"]){cell.getElement().classList.add("set-value");return value}else{return""}}}});Tabulator.extendModule("sort","sorters",{integerSorter:function(a,b,aRow,bRow,column,dir,sorterParams){return a-b},conditionalIntegerSorter:function(a,b,aRow,bRow,column,dir,sorterParams){let va=0;let vb=0;if(a.flag===true){for(var i=0;i<a.fields.length;i++){if(a.fields[i]!==null){va=a.fields[i];break}}}if(b.flag===true){for(var i=0;i<b.fields.length;i++){if(b.fields[i]!==null){vb=b.fields[i];break}}}return va-vb}});Tabulator.extendModule("edit","editors",{integerCoalesceEditor:function(cell,onRendered,success,cancel,editorParams){var editor=document.createElement("input");editor.style.padding="3px";editor.style.width="100%";editor.style.boxSizing="border-box";var values_list=cell.getValue();editor.value=values_list[0];onRendered(function(){editor.focus({preventScroll:true});editor.style.height="100%"});function successFunc(){values_list[0]=parseInt(editor.value);success(JSON.stringify(values_list))}editor.addEventListener("change",successFunc);editor.addEventListener("blur",successFunc);return editor},integerConditionalEditor:function(cell,onRendered,success,cancel,editorParams){var editor=document.createElement("input");editor.style.padding="3px";editor.style.width="100%";editor.style.boxSizing="border-box";var cell_value=cell.getValue();var values_list=cell_value["fields"];var flag_value=cell_value["flag"];editor.value=values_list[0];onRendered(function(){editor.focus({preventScroll:true});editor.style.height="100%"});function successFunc(){values_list[0]=parseInt(editor.value);success(JSON.stringify({flag:flag_value,fields:values_list}))}editor.addEventListener("change",successFunc);editor.addEventListener("blur",successFunc);return editor}});